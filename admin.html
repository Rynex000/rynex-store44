<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RYNEX | Master Admin V2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body { background: #070b14; color: white; font-family: 'Inter', sans-serif; overflow-x: hidden; }
        .glass-card { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.05); }
        .price-input { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); padding: 8px; border-radius: 10px; width: 100%; outline: none; color: #60a5fa; font-weight: bold; font-size: 13px; }
        #adminLogin { position: fixed; inset: 0; background: #070b14; z-index: 1000; display: flex; align-items: center; justify-content: center; }
        .table-container::-webkit-scrollbar { width: 4px; }
        .table-container::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
        .stat-box { background: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%); border: 1px solid rgba(255,255,255,0.05); padding: 15px; border-radius: 20px; text-align: center; }
        .nav-btn.active { background: #2563eb; color: white; border-color: #2563eb; }
        .page-content { display: none; }
        .page-content.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="p-4 md:p-12">

    <div id="adminLogin">
        <div class="glass-card p-10 rounded-[2.5rem] w-full max-sm:mx-4 max-w-sm text-center">
            <h2 class="text-2xl font-black mb-6 uppercase italic text-blue-500">Admin Access</h2>
            <input type="password" id="adminPass" placeholder="Password" class="w-full p-4 bg-white/5 border border-white/10 rounded-xl mb-4 text-center text-white outline-none">
            <button onclick="checkAdmin()" class="w-full py-4 bg-blue-600 rounded-xl font-bold uppercase hover:bg-blue-500 transition">Login</button>
        </div>
    </div>

    <div id="adminPanel" class="max-w-7xl mx-auto opacity-0 transition-opacity duration-500">
        
        <header class="flex flex-col md:flex-row justify-between items-center mb-6 gap-4 text-center md:text-left">
            <div>
                <h1 class="text-4xl font-black italic uppercase text-blue-500">Master Control</h1>
                <p class="text-slate-400 text-sm">RYNEX System Management</p>
            </div>
            <div class="flex gap-2">
                <button onclick="location.reload()" class="px-6 py-2 bg-red-500/10 text-red-500 rounded-xl text-[10px] font-black uppercase border border-red-500/20">Logout</button>
            </div>
        </header>

        <nav class="flex flex-wrap gap-2 mb-8 bg-white/5 p-2 rounded-2xl border border-white/5">
            <button onclick="showPage('pricing')" id="btn-pricing" class="nav-btn active flex-1 py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-wider transition border border-transparent">Pricing & Offers</button>
            <button onclick="showPage('orders')" id="btn-orders" class="nav-btn flex-1 py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-wider transition border border-transparent">Real-Time Orders</button>
            <button onclick="showPage('salary')" id="btn-salary" class="nav-btn flex-1 py-3 px-4 rounded-xl text-[10px] font-black uppercase tracking-wider transition border border-transparent">Salary & Reports</button>
        </nav>

        <div id="page-pricing" class="page-content active">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <section>
                    <h2 class="text-xs font-black uppercase tracking-widest text-slate-500 mb-4 px-2">Store Pricing Editor</h2>
                    <div class="glass-card p-6 rounded-[2.5rem] space-y-5">
                        <div class="space-y-4">
                            <p class="text-[10px] font-black text-slate-500 uppercase border-b border-white/5 pb-2">Subscription Packs ($)</p>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="text-[9px] text-blue-400 uppercase font-bold">AI Pack (Mo/Yr)</label>
                                    <div class="flex gap-2 mt-1">
                                        <input type="number" id="p_ai_mo" class="price-input" placeholder="7.49">
                                        <input type="number" id="p_ai_yr" class="price-input" placeholder="70.00">
                                    </div>
                                </div>
                                <div>
                                    <label class="text-[9px] text-purple-400 uppercase font-bold">Movies (Mo/Yr)</label>
                                    <div class="flex gap-2 mt-1">
                                        <input type="number" id="p_mov_mo" class="price-input" placeholder="9.99">
                                        <input type="number" id="p_mov_yr" class="price-input" placeholder="110.00">
                                    </div>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="text-[9px] text-green-400 uppercase font-bold">Trading (Mo/Yr)</label>
                                    <div class="flex gap-2 mt-1">
                                        <input type="number" id="p_trade_mo" class="price-input" placeholder="15.00">
                                        <input type="number" id="p_trade_yr" class="price-input" placeholder="150.00">
                                    </div>
                                </div>
                                <div>
                                    <label class="text-[9px] text-orange-400 uppercase font-bold">Learning (Mo/Yr)</label>
                                    <div class="flex gap-2 mt-1">
                                        <input type="number" id="p_learn_mo" class="price-input" placeholder="12.00">
                                        <input type="number" id="p_learn_yr" class="price-input" placeholder="120.00">
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="pt-2">
                            <label class="text-[9px] text-slate-500 uppercase font-bold">Combo Yearly (Full Access) Price ($)</label>
                            <input type="number" id="p_combo_yr" placeholder="199.00" class="price-input mt-1">
                        </div>
                        <button onclick="savePrices()" class="w-full py-4 bg-blue-600 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-blue-500 transition shadow-lg shadow-blue-600/20">Save Prices</button>
                    </div>
                </section>

                <section>
                    <h2 class="text-xs font-black uppercase tracking-widest text-orange-500 mb-4 px-2">Special Offers Manager</h2>
                    <div class="glass-card p-6 rounded-[2.5rem] space-y-4">
                        <div class="grid grid-cols-2 gap-2">
                            <div class="col-span-2">
                                <label class="text-[9px] text-slate-500 uppercase font-bold">Offer Name</label>
                                <input type="text" id="off_name" placeholder="E.g. Ultimate Bundle" class="price-input !text-white">
                            </div>
                            <div>
                                <label class="text-[9px] text-slate-500 uppercase font-bold">Sale Price ($)</label>
                                <input type="number" id="off_price" placeholder="99.99" class="price-input">
                            </div>
                            <div>
                                <label class="text-[9px] text-slate-500 uppercase font-bold">Old Price ($)</label>
                                <input type="number" id="off_old_price" placeholder="199.00" class="price-input">
                            </div>
                            <div class="col-span-2">
                                <label class="text-[9px] text-slate-500 uppercase font-bold">Description</label>
                                <textarea id="off_desc" placeholder="Brief details about the offer..." class="price-input h-20 resize-none"></textarea>
                            </div>
                        </div>
                        <button onclick="updateSpecialOffer()" class="w-full py-4 bg-orange-600 rounded-2xl font-black uppercase text-[10px] tracking-widest hover:bg-orange-500 transition">Update Special Offer</button>
                    </div>
                </section>
            </div>
        </div>

        <div id="page-orders" class="page-content">
            <div class="flex justify-between items-center mb-4 px-2">
                <h2 class="text-xs font-black uppercase tracking-widest text-slate-500">Live Transaction Feed</h2>
                <span class="text-[10px] bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full font-bold uppercase" id="order-count-badge">0 Orders</span>
            </div>
            <div class="glass-card rounded-[2.5rem] overflow-hidden">
                <div class="table-container overflow-x-auto max-h-[600px]">
                    <table class="w-full text-left border-collapse">
                        <thead class="bg-white/5 text-[9px] uppercase text-slate-500 font-black sticky top-0 backdrop-blur-md">
                            <tr>
                                <th class="p-5">Client Email</th>
                                <th class="p-5">Service</th>
                                <th class="p-5">Amount</th>
                                <th class="p-5">Status</th>
                                <th class="p-5 text-center">Action</th>
                            </tr>
                        </thead>
                        <tbody id="orderList" class="text-xs divide-y divide-white/5"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <div id="page-salary" class="page-content">
            <h2 class="text-xs font-black uppercase tracking-widest text-slate-500 mb-4 px-2">Financial Reports</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
                <div class="stat-box">
                    <p class="text-[9px] uppercase font-bold text-slate-500 mb-1">Total Lifetime Orders</p>
                    <h3 id="stat_total_orders" class="text-2xl font-black">0</h3>
                </div>
                <div class="stat-box border-purple-500/20">
                    <p class="text-[9px] uppercase font-bold text-purple-400 mb-1">Orders (Current Month)</p>
                    <h3 id="stat_month_orders" class="text-2xl font-black">0</h3>
                </div>
                <div class="stat-box">
                    <p class="text-[9px] uppercase font-bold text-slate-500 mb-1">Total Revenue (Gross)</p>
                    <h3 id="stat_total_rev" class="text-2xl font-black text-blue-400">$0.00</h3>
                </div>
                <div class="stat-box border-green-500/20 shadow-lg shadow-green-500/5">
                    <p class="text-[9px] uppercase font-bold text-green-500 mb-1">Monthly Salary (Net)</p>
                    <h3 id="stat_month_rev" class="text-2xl font-black text-green-400">$0.00</h3>
                </div>
            </div>
            
            <div class="glass-card p-8 rounded-[2.5rem] text-center border-dashed border-white/10">
                <i class="fa-solid fa-chart-line text-4xl text-blue-500/20 mb-4"></i>
                <p class="text-slate-400 text-sm italic">Monthly performance is calculated based on "Completed" orders from the current calendar month.</p>
            </div>
        </div>

    </div>

    <script>
        const PASS = "rynex123";
        
        function showPage(pageId) {
            // Update Navigation UI
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            document.getElementById('btn-' + pageId).classList.add('active');

            // Switch Content
            document.querySelectorAll('.page-content').forEach(page => page.classList.remove('active'));
            document.getElementById('page-' + pageId).classList.add('active');
        }

        function checkAdmin() {
            if(document.getElementById('adminPass').value === PASS) {
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminPanel').classList.remove('opacity-0');
                loadAllData();
            } else { alert("Wrong Password!"); }
        }

        function loadAllData() {
            // Load Prices
            document.getElementById('p_ai_mo').value = localStorage.getItem('p_ai_mo') || "7.49";
            document.getElementById('p_ai_yr').value = localStorage.getItem('p_ai_yr') || "70.00";
            document.getElementById('p_mov_mo').value = localStorage.getItem('p_mov_mo') || "9.99";
            document.getElementById('p_mov_yr').value = localStorage.getItem('p_mov_yr') || "110.00";
            document.getElementById('p_trade_mo').value = localStorage.getItem('p_trade_mo') || "15.00";
            document.getElementById('p_trade_yr').value = localStorage.getItem('p_trade_yr') || "150.00";
            document.getElementById('p_learn_mo').value = localStorage.getItem('p_learn_mo') || "12.00";
            document.getElementById('p_learn_yr').value = localStorage.getItem('p_learn_yr') || "120.00";
            document.getElementById('p_combo_yr').value = localStorage.getItem('p_combo_yr') || "199.00";

            // Load Special Offer
            const currentOffer = JSON.parse(localStorage.getItem('rynex_special_offers')) || [];
            if(currentOffer.length > 0) {
                const o = currentOffer[0];
                document.getElementById('off_name').value = o.name || "";
                document.getElementById('off_price').value = o.price || "";
                document.getElementById('off_old_price').value = o.oldPrice || "";
                document.getElementById('off_desc').value = o.description || "";
            }

            loadOrders();
        }

        function calculateStats(orders) {
            const now = new Date();
            const currentMonth = now.getMonth();
            const currentYear = now.getFullYear();

            let totalRev = 0;
            let monthRev = 0;
            let monthCount = 0;

            orders.forEach(order => {
                const val = parseFloat(order.price) || 0;
                totalRev += val;

                if(order.date) {
                    const d = new Date(order.date);
                    if(d.getMonth() === currentMonth && d.getFullYear() === currentYear) {
                        monthRev += val;
                        monthCount++;
                    }
                }
            });

            document.getElementById('stat_total_orders').innerText = orders.length;
            document.getElementById('stat_month_orders').innerText = monthCount;
            document.getElementById('order-count-badge').innerText = orders.length + " Orders";
            document.getElementById('stat_total_rev').innerText = `$${totalRev.toFixed(2)}`;
            document.getElementById('stat_month_rev').innerText = `$${monthRev.toFixed(2)}`;
        }

        function savePrices() {
            localStorage.setItem('p_ai_mo', document.getElementById('p_ai_mo').value);
            localStorage.setItem('p_ai_yr', document.getElementById('p_ai_yr').value);
            localStorage.setItem('p_mov_mo', document.getElementById('p_mov_mo').value);
            localStorage.setItem('p_mov_yr', document.getElementById('p_mov_yr').value);
            localStorage.setItem('p_trade_mo', document.getElementById('p_trade_mo').value);
            localStorage.setItem('p_trade_yr', document.getElementById('p_trade_yr').value);
            localStorage.setItem('p_learn_mo', document.getElementById('p_learn_mo').value);
            localStorage.setItem('p_learn_yr', document.getElementById('p_learn_yr').value);
            localStorage.setItem('p_combo_yr', document.getElementById('p_combo_yr').value);
            alert("Prices Saved Successfully!");
        }

        function updateSpecialOffer() {
            const offerObj = {
                name: document.getElementById('off_name').value,
                price: document.getElementById('off_price').value,
                oldPrice: document.getElementById('off_old_price').value,
                description: document.getElementById('off_desc').value
            };
            localStorage.setItem('rynex_special_offers', JSON.stringify([offerObj]));
            alert("Offer Updated!");
        }

        function loadOrders() {
            const orders = JSON.parse(localStorage.getItem('rynex_all_orders')) || [];
            const list = document.getElementById('orderList');
            
            calculateStats(orders);

            if(orders.length === 0) {
                list.innerHTML = '<tr><td colspan="5" class="p-20 text-center opacity-30 font-black tracking-widest uppercase">No Orders Found</td></tr>';
                return;
            }

            list.innerHTML = "";
            [...orders].reverse().forEach((order, idx) => {
                const originalIdx = orders.length - 1 - idx;
                list.innerHTML += `
                    <tr class="hover:bg-white/[0.02] border-b border-white/5 transition">
                        <td class="p-5">
                            <div class="font-bold text-blue-400">${order.email}</div>
                        </td>
                        <td class="p-5">
                             <div class="text-[9px] text-slate-500 uppercase font-black bg-white/5 inline-block px-2 py-1 rounded">${order.service}</div>
                        </td>
                        <td class="p-5 font-black text-white">$${order.price}</td>
                        <td class="p-5">
                            <span class="${order.status === 'Completed' ? 'text-green-500' : 'text-orange-500'} font-black uppercase text-[9px]">
                                ${order.status}
                            </span>
                        </td>
                        <td class="p-5 text-center">
                            ${order.status === 'Pending' ? 
                                `<button onclick="markDone(${originalIdx})" class="bg-blue-600 hover:bg-blue-500 px-4 py-2 rounded-lg text-[9px] font-black uppercase transition">Approve</button>` : 
                                '<span class="text-green-500 text-[10px] font-black uppercase tracking-widest"><i class="fa-solid fa-check-double mr-1"></i> Verified</span>'}
                        </td>
                    </tr>
                `;
            });
        }

        function markDone(i) {
            let o = JSON.parse(localStorage.getItem('rynex_all_orders'));
            o[i].status = "Completed";
            localStorage.setItem('rynex_all_orders', JSON.stringify(o));
            loadOrders();
        }
    </script>
</body>
</html>